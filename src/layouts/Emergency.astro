---
import { getCollection, render } from "astro:content";

const emergencies = await getCollection("emergencies");
const filtered = emergencies.filter((emergency) =>
  emergency.data.pattern.test(Astro.url.pathname),
);
---

{filtered.map(async (emergency) => {
  const { Content } = await render(emergency);
  return <Content />;
})}
