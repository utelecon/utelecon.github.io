import If from "@components/utils/If.astro";
import Help from "@components/utils/Help.astro";
import Support from "@components/utils/Support.astro";
import ApplyHelpJouhouSecurity from "./ApplyHelpJouhouSecurity.mdx";
import ApplyHelpEmail from "./ApplyHelpEmail.mdx";
import ApplyHelpMFA from "./ApplyHelpMFA.mdx";

{/**
  * @typedef {object} Props
  * @property {boolean} support
  * @property {boolean} [blockLink]
  * @property {boolean} [inlineHelp]
  * @property {boolean} [utasOnly]
  */}


1. <If cond={props.blockLink}>
     Access the "UTokyo Wi-Fi Account Menu" below.
     <Fragment slot="else">
     Access the "[UTokyo Wi-Fi Account Menu](https://acm.wifi.adm.u-tokyo.ac.jp/secure/user_applies/index/1/)".
     </Fragment>
   </If>
   - Unless you have already signed in to your UTokyo Account, the sign-in page will be displayed. Please sign in.
   <If cond={props.blockLink}>
     <b class="box center">[UTokyo Wi-Fi Account Menu](https://acm.wifi.adm.u-tokyo.ac.jp/secure/user_applies/index/1/)</b>
   </If>
   <If cond={props.inlineHelp}>
     <ApplyHelpMFA type="details" />
     <ApplyHelpJouhouSecurity type="details" /> 
   </If>
1. Click on the "New Application" Button.
   - At this point, the application is not yet done. Please proceed to the next step to complete the application.
1. Before you proceed to the application, please check the following points.
   - You can view your UTokyo Wi-Fi account information (user ID and password) both on the account menu screen **immediately after submitting application** and in the notification email sent after application.
   - If you close the account menu screen after submitting application, you will not be able to view your account password except from the notification email.
   - The notification email will be sent to both your [ECCS Cloud Email](/en/google/) address and the email address shown in the "Notification E-mail Address" field. Please make sure that you can receive the email at these email addresses in advance.
     <details>
        <summary>If you want to change your notification email address</summary>
        <If cond={props.utasOnly}>
          In order to change the email address to which the notification email is sent, log in to [UTAS](https://utas.adm.u-tokyo.ac.jp/campusweb/campusportal.do) and set "E-MAIL 1" in the "Student Information" menu (note that the "E-MAIL 2" address cannot be used as the UTokyo Wi-Fi email address).
          <Fragment slot="else">
            Follow the instructions below to change the email address to which the notification email is sent.
  
            - For students <small>including accounts that are both students and faculty and staff members</small>: Log in to [UTAS](https://utas.adm.u-tokyo.ac.jp/campusweb/campusportal.do) and set "E-MAIL 1" in the "Student Information" menu (note that the "E-MAIL 2" address cannot be used as the UTokyo Wi-Fi email address).
            - For faculty and staff members <small>excluding accounts that are both students and faculty and staff members</small>: Log in to [the Personnel Information MyWeb](https://univtokyo.sharepoint.com/sites/utokyoportal/wiki/d/Personal_information_and_ID_card.aspx) and set your "学内メールアドレス" (Campus Email Address) field in the "パーソナルメニュー" (Personal Menu). * The email address for this purpose must end with `u-tokyo.ac.jp`
          </Fragment>
        </If>
          Please note that it will take some time for the change to take effect, so please apply for an account after a day you registered your email.
      </details>
1. Click on the "Apply" button.
   - After a little while, account information will appear on the screen. If you close the screen, you will not be able to view it again. However, the same information will be sent via email.
     <If cond={props.inlineHelp}>
       <ApplyHelpEmail type="details" />
     </If>
<If cond={props.inlineHelp}>
  <Support lang="en" show={props.support} />
  <Help lang="en" support={props.support} slot="else">
    - <ApplyHelpMFA type="default" />
    - <ApplyHelpJouhouSecurity type="default" />
    - <ApplyHelpEmail type="default" />
  </Help>
</If>
