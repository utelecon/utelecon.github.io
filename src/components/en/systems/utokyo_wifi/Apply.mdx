import If from "@components/utils/If.astro";
import Help from "@components/utils/Help.astro";
import Support from "@components/utils/Support.astro";
import ApplyHelpJouhouSecurity from "./ApplyHelpJouhouSecurity.mdx";
import ApplyHelpEmail from "./ApplyHelpEmail.mdx";
import ApplyHelpEmail from "./ApplyHelpMFA.mdx";

{/**
  * @typedef {object} Props
  * @property {boolean} support
  * @property {boolean} [blockLink]
  * @property {boolean} [inlineHelp]
  * @property {boolean} [utasOnly]
  */}


1. <If cond={props.blockLink}>
     Access the "UTokyo Wi-Fi Account Menu" below.
     <b class="box center">[UTokyo Wi-Fi Account Menu](https://acm.wifi.adm.u-tokyo.ac.jp/secure/user_applies/index/1/)</b>
     <Fragment slot="else">
       Access the "[UTokyo Wi-Fi Account Menu](https://acm.wifi.adm.u-tokyo.ac.jp/secure/user_applies/index/1/)".
     </Fragment>
   </If>
1. Unless you have already signed in to your UTokyo Account, the sign-in page will be displayed. Please sign in.
   <If cond={props.inlineHelp}>
     <ApplyHelpJouhouSecurity type="details" />
   </If>
   <If cond={props.inlineHelp}>
     <ApplyHelpMFA type="details" />
   </If>

1. Click on the "New Application" Button.
1. A notification email with your account information (user ID and password) will be sent to both your [ECCS Cloud Email](/en/google/) address and the email address shown in the "Notification E-mail Address" field.<br />
   \* If you close the account menu after submitting your application, you will not be able to check the password of your UTokyo Wi-Fi account except from the notification email. Please make sure that you can receive the notification email before you proceed to the next step.
   <details>
      <summary>If you want to change your notification email address</summary>
      <If cond={props.utasOnly}>
        In order to change the email address to which the notification email is sent, log in to [UTAS](https://utas.adm.u-tokyo.ac.jp/campusweb/campusportal.do) and set "E-MAIL 1" in the "Student Information" menu (note that the "E-MAIL 2" address cannot be used as the UTokyo Wi-Fi email address).
        <Fragment slot="else">
          Follow the instructions below to change the email address to which the notification email is sent.

          - For students: Log in to [UTAS](https://utas.adm.u-tokyo.ac.jp/campusweb/campusportal.do) and set "E-MAIL 1" in the "Student Information" menu (note that the "E-MAIL 2" address cannot be used as the UTokyo Wi-Fi email address).
          - For faculty members: Log in to [the Personnel Information MyWeb](https://univtokyo.sharepoint.com/sites/utokyoportal/wiki/d/Personal_information_and_ID_card.aspx) and set your "学内メールアドレス" (Campus Email Address) field in the "パーソナルメニュー" (Personal Menu). * The email address for this purpose must end with `u-tokyo.ac.jp`
        </Fragment>
      </If>
        Please note that it will take some time for the change to take effect, so please apply for an account after a day you registered your email.
    </details>
    <If cond={props.inlineHelp}>
      <ApplyHelpEmail type="details" />
    </If>
1. Click on the "Apply" button.
1. After a little while, you will receive a notification email. The same information as in the notification email will also appear in the account menu.

<If cond={props.inlineHelp}>
  <Support lang="en" show={props.support} />
  <Help lang="en" support={props.support} slot="else">
    - <ApplyHelpJouhouSecurity type="default" />
    - <ApplyHelpEmail type="default" />
    - <ApplyHelpMFA type="default" />
  </Help>
</If>
